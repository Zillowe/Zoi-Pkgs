name: athas
repo: extra
version: "{git}"
description: "A lightweight code editor. Modular, free, open."
website: https://athas.dev
git: https://github.com/athasdev/athas
maintainer:
  name: "Zillowe Community"
  website: "https://zillowe.qzz.io"
  email: "contact@zillowe.qzz.io"
license: "AGPLv3"
bins: ["athas"]
conflicts: ["athas"]
tags:
  - ide
  - editor
  - devtools
  - ai
  - athas

installation:
  - type: binary
    url: "{git}/releases/download/{version}/athas-{platform}"
    binary_types: ["dmg", "appimage", "msi"]
    platforms: ["macos", "linux", "windows-amd64"]

  - type: source
    url: "{git}"
    platforms: ["linux"]
    commands:
      - bun run setup
      - bun install
      - bun run build
      - mv src-tauri/target/release/athas {store}/athas

  - type: source
    url: "{git}"
    platforms: ["windows"]
    commands:
      - bun run setup-win
      - bun install
      - bun run build
      - mv src-tauri/target/release/athas.exe {store}/athas.exe

  - type: source
    url: "{git}"
    platforms: ["macos"]
    commands:
      - bun install
      - bun run build
      - mv src-tauri/target/release/athas {store}/athas

dependencies:
  build:
    optional:
      - brew:rust:Install Rust if you dont have it
      - brew:oven-sh/bun/bun:Install Bun if you dont have it
